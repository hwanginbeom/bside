{"ast":null,"code":"var _jsxFileName = \"/Users/kwondaeyoung/projects/bside/frontend/src/App.js\";\n//frontend/src/app.js\nimport React, { Component } from 'react';\nimport GoogleLogin from 'react-google-login';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst clientId = \"774738321836-vl1oi9dvoefg5mpjhijoaic2ond37l2a.apps.googleusercontent.com\";\n\nclass App extends Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      posts: []\n    };\n  }\n\n  async componentDidMount() {\n    try {\n      const res = await fetch('http://127.0.0.1:8000/api/');\n      const posts = await res.json();\n      this.setState({\n        posts\n      });\n    } catch (e) {\n      console.log(e);\n    }\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: this.state.posts.map(item => /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: item.title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 29,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: item.content\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 30,\n          columnNumber: 25\n        }, this)]\n      }, item.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 28,\n        columnNumber: 21\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nfunction GoogleLoginBtn(_ref) {\n  let {\n    onGoogleLogin\n  } = _ref;\n\n  const onSuccess = async res => {\n    console.log(res);\n    const {\n      googleId,\n      profileObj: {\n        email,\n        name\n      }\n    } = res;\n    let data = {\n      'password': googleId,\n      'email': email,\n      'username': name,\n      'provider': 'google',\n      'nickname': ''\n    };\n    console.log(data);\n    axios.post('http://127.0.0.1:8000/api/login/', [{\n      'email': email,\n      'password': googleId,\n      'username': name,\n      'provider': 'google',\n      'nickname': ' '\n    }]).then(res => {\n      console.log(res);\n    });\n  };\n\n  const onFailure = error => {\n    console.log(error);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(GoogleLogin, {\n      clientId: clientId,\n      responseType: 'id_token',\n      onSuccess: onSuccess,\n      onFailure: onFailure\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 62,\n    columnNumber: 12\n  }, this);\n}\n\n_c = GoogleLoginBtn;\nexport default GoogleLoginBtn;\n\nvar _c;\n\n$RefreshReg$(_c, \"GoogleLoginBtn\");","map":{"version":3,"sources":["/Users/kwondaeyoung/projects/bside/frontend/src/App.js"],"names":["React","Component","GoogleLogin","axios","clientId","App","state","posts","componentDidMount","res","fetch","json","setState","e","console","log","render","map","item","title","content","id","GoogleLoginBtn","onGoogleLogin","onSuccess","googleId","profileObj","email","name","data","post","then","onFailure","error"],"mappings":";AAAA;AACA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,WAAP,MAAwB,oBAAxB;AACA,OAAOC,KAAP,MAAkB,OAAlB;;AAEA,MAAMC,QAAQ,GAAG,0EAAjB;;AACA,MAAMC,GAAN,SAAkBJ,SAAlB,CAA4B;AAAA;AAAA;AAAA,SACxBK,KADwB,GAChB;AACJC,MAAAA,KAAK,EAAE;AADH,KADgB;AAAA;;AAKD,QAAjBC,iBAAiB,GAAG;AACtB,QAAI;AACA,YAAMC,GAAG,GAAG,MAAMC,KAAK,CAAC,4BAAD,CAAvB;AACA,YAAMH,KAAK,GAAG,MAAME,GAAG,CAACE,IAAJ,EAApB;AACA,WAAKC,QAAL,CAAc;AACVL,QAAAA;AADU,OAAd;AAGH,KAND,CAME,OAAOM,CAAP,EAAU;AACRC,MAAAA,OAAO,CAACC,GAAR,CAAYF,CAAZ;AACH;AACJ;;AAEDG,EAAAA,MAAM,GAAG;AACL,wBACI;AAAA,gBACK,KAAKV,KAAL,CAAWC,KAAX,CAAiBU,GAAjB,CAAqBC,IAAI,iBACtB;AAAA,gCACI;AAAA,oBAAKA,IAAI,CAACC;AAAV;AAAA;AAAA;AAAA;AAAA,gBADJ,eAEI;AAAA,oBAAOD,IAAI,CAACE;AAAZ;AAAA;AAAA;AAAA;AAAA,gBAFJ;AAAA,SAAUF,IAAI,CAACG,EAAf;AAAA;AAAA;AAAA;AAAA,cADH;AADL;AAAA;AAAA;AAAA;AAAA,YADJ;AAUH;;AA5BuB;;AA+B5B,SAASC,cAAT,OAA2C;AAAA,MAAnB;AAAEC,IAAAA;AAAF,GAAmB;;AAEvC,QAAMC,SAAS,GAAG,MAAOf,GAAP,IAAe;AAC7BK,IAAAA,OAAO,CAACC,GAAR,CAAYN,GAAZ;AAEA,UAAM;AAAEgB,MAAAA,QAAF;AAAYC,MAAAA,UAAU,EAAE;AAAEC,QAAAA,KAAF;AAASC,QAAAA;AAAT;AAAxB,QAA4CnB,GAAlD;AAEA,QAAIoB,IAAI,GAAG;AACP,kBAAaJ,QADN;AAEP,eAAUE,KAFH;AAGP,kBAAaC,IAHN;AAIP,kBAAa,QAJN;AAKP,kBAAa;AALN,KAAX;AAQAd,IAAAA,OAAO,CAACC,GAAR,CAAYc,IAAZ;AAEA1B,IAAAA,KAAK,CAAC2B,IAAN,CAAW,kCAAX,EAA+C,CAAC;AAAC,eAASH,KAAV;AAAiB,kBAAYF,QAA7B;AAAuC,kBAAYG,IAAnD;AAAyD,kBAAY,QAArE;AAA+E,kBAAY;AAA3F,KAAD,CAA/C,EAAkJG,IAAlJ,CAAuJtB,GAAG,IAAI;AAC1JK,MAAAA,OAAO,CAACC,GAAR,CAAYN,GAAZ;AACH,KAFD;AAGH,GAlBD;;AAmBA,QAAMuB,SAAS,GAAIC,KAAD,IAAW;AACzBnB,IAAAA,OAAO,CAACC,GAAR,CAAYkB,KAAZ;AACH,GAFD;;AAGA,sBAAO;AAAA,2BACH,QAAC,WAAD;AACI,MAAA,QAAQ,EAAE7B,QADd;AAEI,MAAA,YAAY,EAAE,UAFlB;AAGI,MAAA,SAAS,EAAEoB,SAHf;AAII,MAAA,SAAS,EAAEQ;AAJf;AAAA;AAAA;AAAA;AAAA;AADG;AAAA;AAAA;AAAA;AAAA,UAAP;AAQH;;KAhCQV,c;AAmCT,eAAeA,cAAf","sourcesContent":["//frontend/src/app.js\nimport React, { Component } from 'react';\nimport GoogleLogin from 'react-google-login';\nimport axios from 'axios'\n\nconst clientId = \"774738321836-vl1oi9dvoefg5mpjhijoaic2ond37l2a.apps.googleusercontent.com\";\nclass App extends Component {\n    state = {\n        posts: []\n    };\n\n    async componentDidMount() {\n        try {\n            const res = await fetch('http://127.0.0.1:8000/api/');\n            const posts = await res.json();\n            this.setState({\n                posts\n            });\n        } catch (e) {\n            console.log(e);\n        }\n    }\n\n    render() {\n        return (\n            <div>\n                {this.state.posts.map(item => (\n                    <div key={item.id}>\n                        <h1>{item.title}</h1>\n                        <span>{item.content}</span>\n                    </div>\n                ))}\n            </div>\n        );\n    }\n}\n\nfunction GoogleLoginBtn({ onGoogleLogin }) {\n\n    const onSuccess = async (res) => {\n        console.log(res)\n\n        const { googleId, profileObj: { email, name },} = res\n\n        let data = {\n            'password' : googleId,\n            'email' : email,\n            'username' : name,\n            'provider' : 'google',\n            'nickname' : ''\n        };       \n        \n        console.log(data)    \n        \n        axios.post('http://127.0.0.1:8000/api/login/', [{'email': email, 'password': googleId, 'username': name, 'provider': 'google', 'nickname': ' '}]).then(res => {\n            console.log(res)\n        })\n    }\n    const onFailure = (error) => {\n        console.log(error)\n    }\n    return <div>\n        <GoogleLogin\n            clientId={clientId}\n            responseType={'id_token'}\n            onSuccess={onSuccess}\n            onFailure={onFailure}\n        />\n  </div>;\n}\n\n\nexport default GoogleLoginBtn;"]},"metadata":{},"sourceType":"module"}